var Z=Object.defineProperty;var O=(l,e,t)=>e in l?Z(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var S=(l,e,t)=>(O(l,typeof e!="symbol"?e+"":e,t),t);import{d as D,f as K,g as U,h as j,j as q,k as G,l as X,m as Q,n as W,o as J,p as ee,q as te,r as ne,s as se,t as oe,u as le}from"./element-plus.796eaf0d.js";import{u as I,b as re}from"./vue-router.c009eb29.js";import{r as $,m as v,f as F,o as c,c as u,R as w,S as E,u as o,a,W as x,a4 as ce,a7 as R,F as C,P as f,Q as _,X as i,T as ie,V as B,k as N,a5 as ae,K as P,w as _e}from"./@vue.868258c7.js";import{C as z,r as V,u as ue,E as me,a as de,o as pe,U as he,b as ve,c as fe,i as A}from"./index.21661719.js";import{p as Y,q as ge,s as xe}from"./@vueuse.b31bd3d5.js";import{u as k}from"./vue-i18n.8110a5da.js";import{_ as H}from"./_plugin-vue_export-helper.cdc0426e.js";import{n as ye,R as Me}from"./@element-plus.cf00268d.js";import{u as $e}from"./useTheme.222a817e.js";import{P as be}from"./index.39628d11.js";import"./lodash-es.082cdea4.js";import"./@popperjs.36402333.js";import"./@ctrl.82a509e0.js";import"./dayjs.6e4093f3.js";import"./axios.68af02ab.js";import"./async-validator.fb49d0f5.js";import"./memoize-one.4ee5c96d.js";import"./escape-html.e5dfadb9.js";import"./normalize-wheel-es.1c4ac15a.js";import"./@floating-ui.cba15af0.js";import"./vue-echarts.3b6c88e9.js";import"./resize-detector.4e96b72b.js";import"./echarts.3adaecf4.js";import"./tslib.60310f1a.js";import"./zrender.46c0e42b.js";import"./pinia.3f1ced68.js";import"./vue-demi.65474690.js";import"./xe-utils.a7d87cf6.js";/* empty css                     */import"./vxe-table.18ff3017.js";import"./qs.d2aa2b80.js";import"./side-channel.38d98334.js";import"./get-intrinsic.89e72507.js";import"./has-symbols.caae0f97.js";import"./function-bind.cb3858f2.js";import"./has.c1051c46.js";import"./call-bind.4b19860c.js";import"./object-inspect.621f328c.js";import"./js-cookie.31874410.js";import"./nprogress.54513b29.js";import"./yup.0bed65b0.js";import"./nanoclone.7d3cb5fe.js";import"./lodash.489bb805.js";import"./property-expr.48609aa3.js";import"./toposort.5e0934c4.js";import"./@intlify.f00429e5.js";const we="/cloud-app-admin/assets/logo.75b0cef0.png";class Ee{constructor(){S(this,"menus",$([]));S(this,"history",Y(z.HISTORY_MENU,[]));S(this,"route",$(null));S(this,"close",Y(z.MENU_CLOSE_STATE,!1));this.menus.value=this.getMenuByRoute(),this.history.value=this.getHistoryMenu()}removeHistoryMenu(e){const t=this.history.value.indexOf(e);this.history.value.splice(t,1)}addHistoryMenu(e){var s,r;if(!((s=e.meta)!=null&&s.menu))return;this.route.value=e;const t={...(r=e.meta)==null?void 0:r.menu,route:e.name};this.history.value.some(d=>d.route==e.name)||this.history.value.unshift(t),this.history.value.length>10&&this.history.value.pop()}getHistoryMenu(){const e=[];return V.getRoutes().map(t=>e.push(...t.children)),this.history.value.filter(t=>e.some(n=>n.name==t.route))}getNestedMenuByRoute(e,t,n=""){var s;(s=e.children)==null||s.forEach(r=>{n!==""?n=`${n}-${r.title}`:n=`${e.title}-${r.title}`,t.set(r.route,n),r.children?this.getNestedMenuByRoute(r,t,n):n=""})}getCurrentMenu(e){const t=new Map;return this.menus.value.forEach(n=>{this.getNestedMenuByRoute(n,t)}),t.get(e.name)}linkPage(e){this.isExternalLink(e)?window.open(e.path):V.push({name:e.route})}isExternalLink(e){return!!e.path}toggleState(){this.close.value=!this.close.value}filterNestedMenu(e){return e.filter(t=>{var n;return(n=t.meta)==null?void 0:n.menu}).map(t=>{var n,s;if(t.children){const r=this.filterNestedMenu(t.children);return{...(n=t.meta)==null?void 0:n.menu,route:t.name,children:r}}return{...(s=t.meta)==null?void 0:s.menu,route:t.name}})}getMenuByRoute(){return V.getRoutes().filter(e=>e.children.length&&e.meta.menu&&!e.meta.menu.nested).map(e=>{var n;const t={...(n=e.meta)==null?void 0:n.menu};return t.children=this.filterNestedMenu(e.children),t}).filter(e=>{var t;return(t=e.children)==null?void 0:t.length})}}const m=new Ee,Ce=a("div",{class:"w-10 ml-4"},[a("img",{src:we,alt:"logo"})],-1),ke={class:"flex-1 duration-500 ml-2 mr-1 w-[160px]"},He={class:"text-base font-bold"},Se=v({__name:"index",setup(l){const{t:e}=k(),t=F(()=>e("global_title"));return(n,s)=>(c(),u("div",{class:"flex align-center items-center py-2 w-[220px] cursor-pointer",onClick:s[0]||(s[0]=r=>n.$router.push("/"))},[Ce,w(a("div",ke,[a("span",He,x(o(t)),1)],512),[[E,!o(m).close.value]])]))}}),Be=v({__name:"MenuItem",props:{subMenu:{default:()=>[]},activeKey:{default:""}},setup(l){const e=l,{t}=k(),n=(r,d)=>e.activeKey===""?r.title+"-"+d.title:e.activeKey+"-"+d.title;function s(r){const{sm:d,cmd:p}=ue();(d.value||p.value)&&m.toggleState(),m.linkPage(r)}return(r,d)=>{const p=D,b=ce("menu-item",!0),h=K,y=U;return c(!0),u(C,null,R(e.subMenu,(g,L)=>(c(),f(y,{key:L,index:g.title},{title:_(()=>[i(p,null,{default:_(()=>[(c(),f(ie(g.icon)))]),_:2},1024),a("span",null,x(o(t)(g.title)),1)]),default:_(()=>[(c(!0),u(C,null,R(g.children,(M,T)=>(c(),u(C,null,[M.children?(c(),f(b,{key:"sub_ "+T,"active-key":g.title+"-"+M.title,"sub-menu":g.children},null,8,["active-key","sub-menu"])):(c(),f(h,{key:T,index:n(g,M),onClick:At=>s(M)},{default:_(()=>[B(x(o(t)(M==null?void 0:M.title)),1)]),_:2},1032,["index","onClick"]))],64))),256))]),_:2},1032,["index"]))),128)}}}),Re={class:"flex justify-center"},Ie=v({__name:"index",setup(l){const e=I(),t=$("");N(()=>{t.value=m.getCurrentMenu(e)});const n=F(()=>m.close.value);return(s,r)=>{const d=q;return c(),f(d,{class:P(["admin-menu border-base bg-dark",{close:o(m).close.value}])},{default:_(()=>[a("div",Re,[i(Se)]),i(o(j),{collapse:o(n),"default-active":t.value},{default:_(()=>[i(Be,{"sub-menu":o(m).menus.value},null,8,["sub-menu"])]),_:1},8,["collapse","default-active"]),(c(),f(ae,{to:"body"},[w(a("div",{class:"bg block md:hidden",onClick:r[0]||(r[0]=(...p)=>o(m).toggleState&&o(m).toggleState(...p))},null,512),[[E,!o(m).close.value]])]))]),_:1},8,["class"])}}});const Le=H(Ie,[["__scopeId","data-v-5b348832"]]),Ve={class:"breadcrumb"},Ne=v({__name:"index",setup(l){const e=I(),{t}=k(),n=$(""),s=$([]);return N(()=>{var r;n.value=m.getCurrentMenu(e),s.value=(r=n.value)==null?void 0:r.split("-")}),(r,d)=>{const p=G,b=X;return c(),u("div",Ve,[i(b,{"separator-icon":o(ye)},{default:_(()=>[(c(!0),u(C,null,R(s.value,(h,y)=>(c(),f(p,{key:y},{default:_(()=>[B(x(o(t)(h)),1)]),_:2},1024))),128))]),_:1},8,["separator-icon"])])}}});const Te=H(Ne,[["__scopeId","data-v-78e24406"]]),ze={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ae=a("path",{fill:"currentColor",d:"M11 13h10v-2H11m0-2h10V7H11M3 3v2h18V3M3 21h18v-2H3m0-7l4 4V8m4 9h10v-2H11v2Z"},null,-1),Ye=[Ae];function De(l,e){return c(),u("svg",ze,Ye)}const Fe={name:"mdi-format-indent-decrease",render:De},Pe=v({__name:"index",setup(l){return(e,t)=>{const n=Fe;return c(),u("div",{class:"pr-3 cursor-pointer",onClick:t[0]||(t[0]=(...s)=>o(m).toggleState&&o(m).toggleState(...s))},[i(n,{class:P([{"rotate-180":o(m).close.value},"duration-300"]),style:{"font-size":"1.5em"}},null,8,["class"])])}}}),Ze={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Oe=a("path",{fill:"currentColor",d:"M22 15.04c0 2.19-1.76 3.96-3.93 3.96H5.93C3.76 19 2 17.23 2 15.04c0-1.97 1.43-3.6 3.31-3.9c-.03-.14-.04-.28-.04-.43c0-1.38 1.11-2.51 2.49-2.51c.61 0 1.18.23 1.61.6c.77-1.75 1.76-3.36 4.54-3.36c3.37 0 4.96 2.62 4.96 5.39c0 .11 0 .23-.01.34A3.95 3.95 0 0 1 22 15.04Z"},null,-1),Ke=[Oe];function Ue(l,e){return c(),u("svg",Ze,Ke)}const je={name:"mdi-apple-icloud",render:Ue},qe={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ge=a("path",{fill:"currentColor",d:"m17.75 4.09l-2.53 1.94l.91 3.06l-2.63-1.81l-2.63 1.81l.91-3.06l-2.53-1.94L12.44 4l1.06-3l1.06 3l3.19.09m3.5 6.91l-1.64 1.25l.59 1.98l-1.7-1.17l-1.7 1.17l.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95l2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85c-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14c.4-.4.82-.76 1.27-1.08c.75-.53 1.93.36 1.85 1.19c-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82c-2.81 3.14-2.7 7.96.31 10.98c3.02 3.01 7.84 3.12 10.98.31Z"},null,-1),Xe=[Ge];function Qe(l,e){return c(),u("svg",qe,Xe)}const We={name:"mdi-weather-night",render:Qe},Je={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},et=a("path",{fill:"currentColor",d:"m3.55 19.09l1.41 1.41l1.8-1.79l-1.42-1.42M12 6c-3.31 0-6 2.69-6 6s2.69 6 6 6s6-2.69 6-6c0-3.32-2.69-6-6-6m8 7h3v-2h-3m-2.76 7.71l1.8 1.79l1.41-1.41l-1.79-1.8M20.45 5l-1.41-1.4l-1.8 1.79l1.42 1.42M13 1h-2v3h2M6.76 5.39L4.96 3.6L3.55 5l1.79 1.81l1.42-1.42M1 13h3v-2H1m12 9h-2v3h2"},null,-1),tt=[et];function nt(l,e){return c(),u("svg",Je,tt)}const st={name:"mdi-white-balance-sunny",render:nt},ot=v({__name:"index",setup(l){const{next:e,state:t}=$e();return(n,s)=>{const r=st,d=We,p=je;return c(),u("div",{style:{"font-size":"1.6em"},onClick:s[0]||(s[0]=()=>o(e)())},[w(i(r,{class:"dark-mode text-gray-500"},null,512),[[E,o(t)==="light"||o(t)==="auto"||o(t)===""]]),w(i(d,{class:"dark-mode"},null,512),[[E,o(t)==="dark"]]),w(i(p,{class:"dark-mode text-gray-600"},null,512),[[E,o(t)==="sky"]])])}}});const lt=H(ot,[["__scopeId","data-v-a6e5fb23"]]);function rt(l,e,t){Q.confirm(l,void 0,{customStyle:{width:me.ELEMENT_MESSAGE_BOX_SIZE}}).then(()=>{e()}).catch(n=>{t&&t(n)})}const ct={class:"flex flex-col items-start"},it={class:"font-sans dark:text-white text-gray-600 text-sm font-medium"},at={class:"font-sans dark:text-white text-gray-500 text-sm"},_t=v({__name:"index",setup(l){const e=re(),t=de(),{t:n}=k(),s=ge(xe(),"YYYY-MM-DD HH:mm");function r(){rt(n("golbal.logout.message.confirm"),()=>{ve(()=>{e.replace("/login"),fe("success",n("golbal.logout.message.success"))})})}return(d,p)=>{const b=W,h=D,y=J,g=ee,L=te;return c(),u(C,null,[i(b,{shape:"square",size:40,src:o(t).avatar},null,8,["src"]),a("div",ct,[a("span",it,x(o(n)("hello")+o(t).name),1),a("span",at,x(o(s)),1)]),i(L,null,{dropdown:_(()=>[i(g,null,{default:_(()=>[i(y,{onClick:p[0]||(p[0]=M=>o(pe)(o(he).GITHUB_REPOSITORY))},{default:_(()=>[B(x(o(n)("github")),1)]),_:1}),i(y,{onClick:r},{default:_(()=>[B(x(o(n)("logout")),1)]),_:1})]),_:1})]),default:_(()=>[i(h,{size:20,class:"ml-2 mt-[1px] hover:rotate-90 duration-500 cursor-pointer"},{default:_(()=>[i(o(Me))]),_:1})]),_:1})],64)}}}),ut={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},mt=a("path",{fill:"currentColor",d:"M14 14h5v2h-3v3h-2v-5m-9 0h5v5H8v-3H5v-2m3-9h2v5H5V8h3V5m11 3v2h-5V5h2v3h3Z"},null,-1),dt=[mt];function pt(l,e){return c(),u("svg",ut,dt)}const ht={name:"mdi-fullscreen-exit",render:pt},vt={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ft=a("path",{fill:"currentColor",d:"M5 5h5v2H7v3H5V5m9 0h5v5h-2V7h-3V5m3 9h2v5h-5v-2h3v-3m-7 3v2H5v-5h2v3h3Z"},null,-1),gt=[ft];function xt(l,e){return c(),u("svg",vt,gt)}const yt={name:"mdi-fullscreen",render:xt};function Mt(){const l=$(!1),e=()=>{l.value?document.exitFullscreen():document.documentElement.requestFullscreen(),l.value=!l.value};return document.addEventListener("fullscreenchange",()=>{l.value=document.fullscreenElement!==null}),{isFullScreen:l,fullScreen:e}}const $t=v({__name:"index",setup(l){const{isFullScreen:e,fullScreen:t}=Mt();return(n,s)=>{const r=yt,d=ht;return c(),u(C,null,[w(i(r,{class:"fullscreen",style:{"font-size":"1.6em"},onClick:s[0]||(s[0]=()=>o(t)())},null,512),[[E,!o(e)]]),w(i(d,{class:"fullscreen",style:{"font-size":"1.6em"},onClick:s[1]||(s[1]=()=>o(t)())},null,512),[[E,o(e)]])],64)}}});const bt=H($t,[["__scopeId","data-v-33a622c8"]]),wt={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Et=a("path",{fill:"currentColor",d:"M20 5h-9.12L10 2H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2h7l1 3h8a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2M7.17 14.59a4.09 4.09 0 0 1-4.09-4.09a4.09 4.09 0 0 1 4.09-4.09c1.04 0 1.99.37 2.74 1.09l.09.04l-1.25 1.18l-.06-.05c-.29-.27-.78-.59-1.52-.59c-1.31 0-2.38 1.09-2.38 2.42c0 1.33 1.07 2.42 2.38 2.42c1.37 0 1.96-.87 2.12-1.46H7.08V9.91h3.95l.01.09c.04.19.05.38.05.59c0 2.35-1.59 4-3.92 4m6.03-1.71c.33.62.74 1.18 1.19 1.7l-.54.53l-.65-2.23m.77-.76H13l-.33-1.04h3.99s-.34 1.31-1.56 2.74c-.52-.62-.89-1.23-1.13-1.7M21 20a1 1 0 0 1-1 1h-7l2-2l-.81-2.77l.92-.92L17.79 18l.71-.73l-2.69-2.68c.9-1.03 1.6-2.25 1.92-3.51H19v-1.04h-3.64V9h-1.04v1.04h-1.96L11.18 6H20a1 1 0 0 1 1 1v13Z"},null,-1),Ct=[Et];function kt(l,e){return c(),u("svg",wt,Ct)}const Ht={name:"mdi-google-translate",render:kt},St=v({__name:"index",setup(l){const{locale:e}=k(),t=()=>{e.value=A.locale.value==="zh-CN"?"en":"zh-CN",A.toggleLocale()};return(n,s)=>{const r=Ht;return c(),f(r,{class:"fullscreen",style:{"font-size":"1.6em"},onClick:s[0]||(s[0]=()=>t())})}}});const Bt=H(St,[["__scopeId","data-v-0b32e8fe"]]),Rt={class:"flex align-center items-center"},It={class:"flex align-center items-center"},Lt={class:"flex items-center gap-2 justify-end h-full flex-1"},Vt=v({__name:"index",setup(l){return(e,t)=>{const n=ne;return c(),f(n,{class:"border-b border-base border-solid flex justify-between",style:{"text-align":"right","font-size":"12px"}},{default:_(()=>[a("div",Rt,[i(Pe)]),a("div",It,[i(Te)]),a("div",Lt,[i(Bt),i(bt),i(lt),i(_t)])]),_:1})}}}),Nt={class:"history self-start flex w-full p-1 border-b border-base border-solid"},Tt=v({__name:"index",setup(l){const e=$(0),t=I(),{t:n}=k(),s=$();return N(()=>{s.value=t.name}),(r,d)=>{const p=se,b=oe;return c(),u("div",Nt,[i(b,{wrap:"",size:e.value},{default:_(()=>[(c(!0),u(C,null,R(o(m).history.value,h=>(c(),f(p,{key:h.title,size:"large",type:s.value===h.route?"":"info",class:"m-1 cursor-pointer",closable:s.value!==h.route,onClose:y=>o(m).removeHistoryMenu(h),onClick:y=>r.$router.push({name:h.route})},{default:_(()=>[B(x(o(n)(h.title)),1)]),_:2},1032,["type","closable","onClose","onClick"]))),128))]),_:1},8,["size"])])}}});const zt=H(Tt,[["__scopeId","data-v-8890936c"]]),Ln=v({__name:"common-page",setup(l){const e=I();return _e(e,()=>{m.addHistoryMenu(e)},{immediate:!0}),(t,n)=>{const s=le;return c(),f(s,{class:"h-screen w-full font-sans"},{default:_(()=>[i(Le),i(s,{direction:"vertical"},{default:_(()=>[i(Vt),i(zt),i(be)]),_:1})]),_:1})}}});export{Ln as default};
